---
// © 2024 Functional Software, Inc. dba Sentry
// © 2024 Vlad-Stefan Harbuz <vlad@vlad.website>
// SPDX-License-Identifier: Apache-2.0

import Blob from "../components/Blob.astro";
import Button from "../components/Button.astro";
import EndorsementList from "../components/EndorsementList.astro";
import Layout from "../layouts/Layout.astro";
import MemberLogoBoard from "../components/MemberLogoBoard.astro";
import MemberLogoMarquee from "../components/MemberLogoMarquee.astro";
import PressItemList from "../components/PressItemList.astro";
import TextButton from "../components/TextButton.astro";
import TotalTally from "../components/TotalTally.astro";
---

<Layout>
  <div class="edge-blobs">
    <Blob kind="solid-fill-03" top="35%" right="-13rem"></Blob>
    <Blob kind="grad-dots-02" top="60%" right="-4rem"></Blob>
  </div>

  <main id="main-content">
    <div class="container">
      <Blob kind="grad-dots-04" top="-13%" left="-20rem"></Blob>
      <Blob kind="solid-fill-01" top="10%" left="-20rem"></Blob>
      <Blob kind="solid-fill-05" top="90%" left="-16rem"></Blob>

      <section class="pc-hero">
        <Blob kind="grad-dots-05" top="65%" right="-3.5rem"></Blob>
        <div class="pc-hero-container">
          <div class="heading-and-mini-pc">
            <div>
              <h1>Together,&nbsp;<br>we&ensp;pay&ensp;the&ensp;<br>maintainers</h1>
              <p>Why? The world depends on Open Source software. We're here to prevent burnout and reduce risk in the software supply chain.</p>
            </div>
            <div class="mini-pc">
              <img src="/images/piggybank.webp" alt="A hand puts bills into a computer monitor">
            </div>
          </div>
          <Button href="/join">Join the Pledge</Button>
          <a class="sentry-credit" href="https://sentry.io/" target="_blank" title="Sentry">
            <span>Created&nbsp;by</span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 44" class="svelte-rttstt"><path d="M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z M124.32,28.28,109.56,9.22h-3.68V34.77h3.73V15.19l15.18,19.58h3.26V9.22h-3.73ZM87.15,23.54h13.23V20.22H87.14V12.53h14.93V9.21H83.34V34.77h18.92V31.45H87.14ZM71.59,20.3h0C66.44,19.06,65,18.08,65,15.7c0-2.14,1.89-3.59,4.71-3.59a12.06,12.06,0,0,1,7.07,2.55l2-2.83a14.1,14.1,0,0,0-9-3c-5.06,0-8.59,3-8.59,7.27,0,4.6,3,6.19,8.46,7.52C74.51,24.74,76,25.78,76,28.11s-2,3.77-5.09,3.77a12.34,12.34,0,0,1-8.3-3.26l-2.25,2.69a15.94,15.94,0,0,0,10.42,3.85c5.48,0,9-2.95,9-7.51C79.75,23.79,77.47,21.72,71.59,20.3ZM195.7,9.22l-7.69,12-7.64-12h-4.46L186,24.67V34.78h3.84V24.55L200,9.22Zm-64.63,3.46h8.37v22.1h3.84V12.68h8.37V9.22H131.08ZM169.41,24.8c3.86-1.07,6-3.77,6-7.63,0-4.91-3.59-8-9.38-8H154.67V34.76h3.8V25.58h6.45l6.48,9.2h4.44l-7-9.82Zm-10.95-2.5V12.6h7.17c3.74,0,5.88,1.77,5.88,4.84s-2.29,4.86-5.84,4.86Z" fill="#ffffff"></path></svg>
          </a>
        </div>
      </section>
    </div>

    <div class="text-center">
      <MemberLogoMarquee></MemberLogoMarquee>
      <TotalTally />
    </div>

    <div class="container">
      <Blob kind="grad-dots-03" top="20%" left="-20rem"></Blob>
      <Blob kind="solid-fill-02" top="40%" left="-20rem"></Blob>
      <Blob kind="grad-dots-01" top="50%" left="-13rem"></Blob>
      <Blob kind="solid-fill-04" top="60%" right="-20rem"></Blob>

      <section>
        <EndorsementList></EndorsementList>

        <div class="text-center">
          <TextButton href="/endorsements/">See all endorsements</TextButton>
        </div>
      </section>

      <section>
        <h2>TL;DR</h2>

        <div class="highlight-box highlight-box--circled">
          <h3><div><span class="circled">1</span></div><span>Pay Open Source maintainers</span></h3>
          <p>The minimum to participate is $2,000 per year per developer at your company.</p>
        </div>

        <div class="highlight-box highlight-box--circled">
          <h3><div><span class="circled">2</span></div><span>Self-report annually</span></h3>
          <p>Each year, publish a blog post outlining your payments to maintainers.</p>
        </div>
      </section>

      <section>
        <PressItemList></PressItemList>

        <div class="text-center">
          <TextButton href="/press/">See all press coverage</TextButton>
        </div>
      </section>

      <section class="flex-center bottom-cta">
        <div>
          <div class="text-center">
            <h2>Want in?</h2>
          </div>

          <div class="text-center">
            <Button href="/join/">Join the Pledge</Button>
          </div>
        </div>
      </section>
    </div>
  </main>
</Layout>

<style>
  .pc-hero {
    position: relative;
    margin-top: 3rem;
    margin-left: -4rem;
    margin-right: -4rem;
    padding: 0 4rem;
    background-image: url(/images/piggybank.webp);
    background-size: contain;
    background-repeat: no-repeat;
    background-position: right center;
    .pc-hero-container {
      padding-right: 40%;
      .heading-and-mini-pc {
        position: relative;
        margin-bottom: 0.5rem;
        h1 {
          margin: 0;
          font-size: 2.5rem;
          line-height: 1.1;
        }
        .mini-pc {
          display: none;
          margin-left: 1rem;
        }
      }
    }
  }
  .bottom-cta {
    h2 {
      font-size: 2.8rem;
      line-height: 1.2;
    }
  }
  a.sentry-credit {
    display: flex;
    align-items: center;
    margin-top: 0.5rem;
    flex-wrap: wrap;
    text-align: center;
    gap: 0.5rem;
    color: white;
    text-decoration: none;
    svg {
      height: 1.1rem;
    }
  }
  @media (max-width: 600px) {
    .pc-hero {
      background-image: none;
      & > :global(.blob) {
        display: none;
      }
      .pc-hero-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding-right: 0;
        .heading-and-mini-pc {
          display: flex;
          align-items: center;
          & > div {
            flex: 1;
          }
          h1 {
            font-size: 1.5rem;
          }
          .mini-pc {
            flex: 1;
            display: block;
          }
        }
      }
    }
    .bottom-cta {
      h2 {
        font-size: 2rem;
      }
    }
    a.sentry-credit {
      justify-content: center;
    }
  }
</style>
