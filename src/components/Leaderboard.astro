---
// Â© 2024 Vlad-Stefan Harbuz <vlad@vlad.website>
// SPDX-License-Identifier: Apache-2.0

import LeaderboardMember from "./LeaderboardMember.astro";
import {
  getMembers, filterInactiveMembers, sortMembersByDevs,
} from '../memberFormatting.ts';

const members = filterInactiveMembers(await getMembers());
---

<table class="table--lrr table--40-30-30">
  <thead>
    <tr>
      <th>Name</th>
      <th class="ndevs">
        <abbr title="Average number of employed full-time equivalent developers (in latest report)">Devs</abbr>
      </th>
      <th>
        <abbr title="USD paid / average number of employed full-time equivalent developers (in latest report)"
          >$/dev</abbr
        >
      </th>
    </tr>
  </thead>
  <tbody>
    {sortMembersByDevs(members).map((member) =>
      <LeaderboardMember member={member}></LeaderboardMember>
    )}
  </tbody>
</table>

<style>
  h2 {
    margin-top: 2rem;
    padding: 0.3rem 0.5rem;
    background: var(--color-light-bg);
    font-size: 1rem;
    font-weight: normal;
  }
  th {
    font-weight: normal;
  }
  th.ndevs, td.ndevs {
    @media (max-width: 400px) {
      display: none;
    }
  }
</style>
